<div class="col-12">
    <div class="row top-buffer">
        <div class="col-9">
            <h4 class="card-title"> {{ 'Asset.Assets' | translate }} </h4>
        </div>
        <div class="col-1">
            <button type="button" pButton pRipple icon="pi pi-file-pdf" id="btnExport" class="p-button-warning download"
                pTooltip="PDF" tooltipPosition="bottom" (click)="downloadPdf()">
            </button>
        </div>
        <div class="col-2">
            <a data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="true"
                aria-controls="collapseExample" class="filterbutton">
                <i class="fa-solid fa-filter"></i> {{'Asset.Filter'|translate}}</a>
        </div>

    </div>
    <div class="col-12">
        <div class="collapse row  top-buffer card-filter" id="collapseExample">
            <form (ngSubmit)="onSearch()" #searchForm="ngForm">
                <div class="row top-buffer">
                    <div class="col-2">
                        <h5>{{ "Asset.Location" | translate }}:</h5>
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="governorate" [disabled]="isGov" name="governorate"
                            #governorateId="ngModel" [value]="0" [(ngModel)]="searchObj.governorateId"
                            (change)="getCitiesByGovId($event)">
                            <option value="0">{{'Asset.Governorate' | translate }} </option>
                            <option *ngFor="let gov of lstGovernorates" [value]="gov.id">
                                {{ lang == "en" ? gov.name : gov.nameAr }}
                            </option>
                        </select>
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="city" name="cityId" #cityId="ngModel"
                            [(ngModel)]="searchObj.cityId" [disabled]="isCity">
                            <option value="0">{{'Asset.City' | translate }} </option>
                            <option *ngFor="let city of lstCities" [value]="city.id"
                                [selected]="city.id == searchObj.cityId">
                                {{ lang == "en" ? city.name : city.nameAr }}
                            </option>
                        </select>
                    </div>

                    <div class="col-2">
                        <select class="form-control" id="organization" [disabled]="isOrg" name="organization"
                            [(ngModel)]="searchObj.organizationId" (change)="getSubOrgByOrgId($event)" [value]="0">
                            <option value="0"> {{'Asset.Organization' | translate }} </option>
                            <option *ngFor="let org of lstOrganizations" [value]="org.id">
                                {{ lang == "en" ? org.name : org.nameAr }}
                            </option>
                        </select>
                    </div>

                    <div class="col-2">
                        <select class="form-control" id="suborganization" name="suborganization" [value]="0"
                            [disabled]="isSubOrg" (change)="getHospitalsBySubOrgId($event)"
                            [(ngModel)]="searchObj.subOrganizationId" #suborganization="ngModel">
                            <option value="0"> {{'Asset.SubOrganization' | translate }} </option>
                            <option *ngFor="let suborg of lstSubOrganizations" [value]="suborg.id">
                                {{ lang == "en" ? suborg.name : suborg.nameAr }}
                            </option>
                        </select>
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="hospitalId" [disabled]="isHospital" name="hospitalId"
                            [(ngModel)]="searchObj.hospitalId" [value]="0">
                            <option value="0">{{'Asset.Hospital' | translate }} </option>
                            <option *ngFor="let host of lstHospitals" [value]="host.id">
                                {{ lang == "en" ? host.name : host.nameAr }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="row top-buffer">
                    <div class="col-2">
                        <h5>{{ "Asset.Location" | translate }}:</h5>
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="orginId" name="orginId" [(ngModel)]="searchObj.originId"
                            [value]="0">
                            <option value="0"> {{'Asset.Origin' | translate }} </option>
                            <option *ngFor="let orgn of lstOrigins" [value]="orgn.id">
                                {{ lang == "en" ? orgn.name : orgn.nameAr }}
                            </option>
                        </select>
                    </div>
                    <div class="col-2">
                        <input type="text" [placeholder]="'Asset.Model' |translate" class="form-control" id="model"
                            name="model" [(ngModel)]="searchObj.model" />
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="supplierId" name="supplierId"
                            [(ngModel)]="searchObj.supplierId" [value]="0">
                            <option value="0">{{'Asset.Supplier' | translate }} </option>
                            <option *ngFor="let supply of lstSuppliers" [value]="supply.id">
                                {{ lang == "en" ? supply.name : supply.nameAr }}
                            </option>
                        </select>
                    </div>
                    <div class="col-2">
                        <select class="form-control" id="brandId" name="brandId" [(ngModel)]="searchObj.brandId"
                            [value]="0">
                            <option value="0">{{'Asset.Brand' | translate }} </option>
                            <option *ngFor="let brnd of lstBrands" [value]="brnd.id">
                                {{ lang == "en" ? brnd.name : brnd.nameAr }}
                            </option>
                        </select>
                    </div>
                </div>
                <div class="row top-buffer">
                    <div class="col-10"></div>
                    <div class="col-1"> <button class="btn searchIcon" value="save" type="submit">
                            <i class="fa-solid fa-magnifying-glass fa-2xl"></i>
                        </button></div>
                    <div class="col-1"> <button class="btn reset" value="Reset" type="button" (click)="reset()">
                            <i class="fa-solid fa-circle-xmark  fa-2xl"></i>
                        </button></div>
                </div>
            </form>
        </div>
    </div>
    <div class="row top-buffer" id="contentToConvert">
        <div class="col-12">
            <p-chart type="bar" width="100hv" height="300px" [data]="data1" [options]="chartOptions1"></p-chart>
        </div>
    </div>
</div>
<p-dialog appendTo="body" modal="true" [(visible)]="errorDisplay" [style]="{ width: '350px' }">
    <p-header style="color: rgb(181, 4, 4)"> {{ 'Asset.Error' | translate }} </p-header>
    <span style="color: rgb(181, 4, 4); font-weight: bold">
        {{ errorMessage }}</span>
</p-dialog>